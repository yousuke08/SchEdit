# 電気回路図エディタ - 要求仕様

## 1. システム概要
- **名称**: SchEdit (Schematic Editor)
- **タイプ**: オフライン動作可能なローカルWebアプリケーション
- **技術スタック案**: HTML/CSS/JavaScript（またはTypeScript）+ Canvas/SVG
- **動作環境**: モダンブラウザ（Chrome, Firefox, Edge, Safari）

## 2. 主要機能

### 2.1 描画キャンバス
- グリッド表示（ON/OFF切替可能）
- グリッドスナップ機能（自動吸着）
- ズームイン/アウト
- パン（画面移動）
- 無限キャンバス

### 2.2 部品管理
- 部品ライブラリの読み込み（外部JSONファイル等）
- 部品の配置（ドラッグ&ドロップ）
- 部品の選択・移動・回転・削除
- パワエレ系部品の基本セット
  - MOSFET/IGBT
  - ダイオード
  - インダクタ
  - コンデンサ
  - 抵抗
  - トランス
  - スイッチ
  - 電源記号
  - GND記号

### 2.3 配線機能
- 直線配線（グリッドスナップ対応）
- 配線の色変更
- 配線の太さ変更
- 配線の削除
- 接続点の自動認識

### 2.4 ファイル操作
- プロジェクトの保存（JSON形式等）
- プロジェクトの読み込み
- エクスポート機能
  - SVG形式
  - PNG形式
- ブラウザのローカルストレージ活用

### 2.5 編集機能
- 元に戻す（Undo）
- やり直す（Redo）
- コピー＆ペースト
- 全選択・複数選択
- 削除

## 3. ユーザーインターフェース

### 3.1 レイアウト
- ツールバー（上部）
  - ファイル操作ボタン
  - 編集ボタン（Undo/Redo等）
  - 表示設定（グリッド、ズーム）
- 部品パレット（左サイド）
  - カテゴリ別部品一覧
- プロパティパネル（右サイド）
  - 選択中の部品/配線のプロパティ
  - 色・太さ等の設定
- メインキャンバス（中央）

### 3.2 操作方法
- マウス操作
  - 左クリック: 選択・配置
  - ドラッグ: 移動・配線描画
  - 右クリック: コンテキストメニュー
  - ホイール: ズーム
- キーボードショートカット
  - Ctrl+Z: Undo
  - Ctrl+Y: Redo
  - Ctrl+C/V: コピー&ペースト
  - Delete: 削除
  - R: 回転

## 4. 部品ライブラリ形式
```json
{
  "components": [
    {
      "id": "mosfet_n",
      "name": "N-ch MOSFET",
      "category": "semiconductor",
      "svg": "...",
      "pins": [...]
    }
  ]
}
```

## 5. 非機能要件
- オフライン動作必須
- レスポンシブ不要（デスクトップ専用でOK）
- 軽量・高速動作
- データはブラウザ内で完結（外部通信なし）

## 6. 今後の拡張性
- レイヤー機能
- テキスト注釈
- 自動配線
- 論理回路・アナログ回路部品の追加
- PDF出力
